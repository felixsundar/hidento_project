{% extends 'secretcrushapp/base_d.html' %}

{% block content %}

<center>
    <div style="width:70%;margin-top:2.3rem;margin-bottom:3.5rem">
        <h2 class="mb-3"><b>Edit Account</b></h2>
        <!--        <a href="{% url 'accountEdit' %}"> Edit Account </a>-->
        <form method="post">
            <table class="mb-3">
                <tr>
                    <td class="hidento-table-left-edit">
                        Username
                    </td>
                    <td class="hidento-table-right">
                        <!--                    {{user.username}}-->

                        <input type="text" name="username"
                               value="{% if form.username.value %}{{form.username.value}}{% endif %}" maxlength="255"
                               required id="id_username">
                      {% if form.username.errors %}
            {% for error in form.username.errors %}
            <div class="hidento-form-error">{{ error|escape }}</div>
            {% endfor %}
            {% endif %}
                    </td>
                </tr>
                <tr>
                    <td class="hidento-table-left-edit">
                        Full Name
                    </td>
                    <td class="hidento-table-right">
                        <!--                    {{user.fullname}}-->
                        <input type="text" name="fullname"
                               value="{% if form.fullname.value %}{{form.fullname.value}}{% endif %}" maxlength="255"
                               required id="id_fullname">
                      {% if form.fullname.errors %}
            {% for error in form.fullname.errors %}
            <div class="hidento-form-error">{{ error|escape }}</div>
            {% endfor %}
            {% endif %}
                    </td>
                </tr>
                <tr>
                    <td class="hidento-table-left-edit">
                        Email
                    </td>
                    <td class="hidento-table-right">
                        <!--                    {{user.email}}-->
                        <input type="email" name="email"
                               value="{% if form.email.value %}{{form.email.value}}{% endif %}"
                               maxlength="255" required id="id_email">
                      {% if form.email.errors %}
            {% for error in form.email.errors %}
            <div class="hidento-form-error">{{ error|escape }}</div>
            {% endfor %}
            {% endif %}
                    </td>
                </tr>
                <tr>
                    <td class="hidento-table-left-edit">
                        Date of Birth
                    </td>
                    <td class="hidento-table-right">
                        <input type="date" name="date_of_birth"
                               value="{% if form.date_of_birth.value %}{{form.date_of_birth.value}}{% endif %}"
                               id="id_date_of_birth">
                    </td>
                </tr>
                <tr>
                    <td class="hidento-table-left-edit">
                        Gender
                    </td>
                    <td class="hidento-table-right">
                        <!--                    {{user.get_gender_display}}-->

                        <select name="gender" required id="id_gender">
                            {% if form.gender.value is None %}
                            <option value="">---------</option>
                            {% endif %}

                            {% if form.gender.value == 1 %}
                            <option value="1" selected>Male</option>
                            {% else %}
                            <option value="1">Male</option>
                            {% endif %}

                            {% if form.gender.value == 2 %}
                            <option value="2" selected>Female</option>
                            {% else %}
                            <option value="2">Female</option>
                            {% endif %}

                            {% if form.gender.value == 3 %}
                            <option value="3" selected>Other</option>
                            {% else %}
                            <option value="3">Other</option>
                            {% endif %}

                        </select>
                    </td>
                </tr>
                <tr>
                    <td class="hidento-table-left-edit">
                        Instagram
                    </td>
                    <td class="hidento-table-right">
                        {% if instagram_username is None %}
                        <a href="{% url 'linkInstagram' %}"> Link Instagram Account</a>
                        {% else %}
                        <form method="post" action="{% url 'removeInstagram' %}">
                            {% csrf_token %}
                            <table>
                                <tr>
                                    <td>{{ instagram_username }}</td>
                                    <td class="pl-2"><input type="submit" value="Remove Instagram"
                                                            class="btn btn-danger btn-sm">
                                    </td>
                                </tr>
                            </table>
                        </form>
                        {% endif %}
                    </td>
                </tr>
            </table>
            <input type="submit" value="Submit" class="btn btn-primary">
        </form>

          <a href="{% url 'account' %}">
                <button type="button" class="btn btn-primary ml-3">Cancel</button>
            </a>

        <form method="post" action="{% url 'accountDelete' %}">
            {% csrf_token %}
            <button type="submit" class="btn hidento-link-cell mt-4" style="color:red">Delete My Account</button>
        </form>
    </div>
</center>


<!--  <h2>Edit Account:</h2><br><br>-->
<!--  <form method="post">-->
<!--    {% csrf_token %}-->
<!--    {{ form.as_p }}-->
<!--    <button type="submit">Submit</button>-->
<!--  </form>-->
<!--  <a href="{% url 'account' %}"><button>Cancel</button></a>-->
<!--<br><br>-->
<!--  <form method="post" action="{% url 'accountDelete' %}">-->
<!--    {% csrf_token %}-->
<!--    <button type="submit">Delete My Account</button>-->
<!--  </form>-->
{% endblock %}